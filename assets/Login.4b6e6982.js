import{_ as f,u as d,c as m,o as g,C as h,j as l,K as b,n as k,k as s,Q as v,R as y,S as C,U as x,h as B,V,d as t,W as L,X as M,z as P,J as E,M as T}from"./index.ec2135b3.js";import{M as D,D as F,C as A}from"./CardComponent.9bcf401d.js";import{F as p,C as w}from"./Field.3537bd56.js";import{a as I,b as J}from"./firebase.17af90f2.js";const R={props:{bg:{type:String,required:!0,validator:r=>["login","error"].includes(r)}},setup(r){const a=r,n=d(),e=m(()=>n.darkMode),o=m(()=>{switch(a.bg){case"login":return e.value?C:x;case"error":return e.value?v:y}return""});return(i,c)=>(g(),h(D,{class:k(["flex h-screen items-center justify-center",s(o)])},{default:l(()=>[b(i.$slots,"default",{cardClass:"w-11/12 md:w-7/12 lg:w-6/12 xl:w-4/12 shadow-2xl",cardRounded:"rounded-lg"})]),_:3},8,["class"]))}},U=f(R,[["__file","/home/runner/work/watch-store-admin/watch-store-admin/src/components/FullScreenSection.vue"]]),j=async({email:r,password:a})=>{const n=d();try{const e=await I(J,r,a);return{idToken:await e.user.getIdToken(),user:e.user}}catch(e){n.notificationState.type="error";let o="";switch(e.code){case"auth/user-not-found":o="Email \u4E0D\u5B58\u5728";break;case"auth/wrong-password":case"auth/invalid-credential":o="\u5BC6\u78BC\u932F\u8AA4";break;case"auth/invalid-email":o="Email \u683C\u5F0F\u4E0D\u6B63\u78BA";break;default:o="\u51FA\u73FE\u932F\u8AA4\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66\u3002"}throw n.notificationState.message=o,e}},z={setup(r){const a=B({email:"email@example.com",password:"Password"}),n=V(),e=d(),o=async()=>{try{const{idToken:i}=await j(a);localStorage.setItem("idToken",i),e.notificationState={},n.push({name:"products"})}catch(i){console.error(i)}};return(i,c)=>(g(),h(U,{bg:"login"},{default:l(({cardClass:S,cardRounded:_})=>[t(A,{class:k(S),rounded:_,form:"",onSubmit:T(o,["prevent"])},{default:l(()=>[t(p,{label:"Login",help:"Please enter your login"},{default:l(()=>[t(w,{modelValue:s(a).email,"onUpdate:modelValue":c[0]||(c[0]=u=>s(a).email=u),icon:s(L),name:"email",autocomplete:"email"},null,8,["modelValue","icon"])]),_:1}),t(p,{label:"Password",help:"Please enter your password"},{default:l(()=>[t(w,{modelValue:s(a).password,"onUpdate:modelValue":c[1]||(c[1]=u=>s(a).password=u),icon:s(M),type:"password",name:"password",autocomplete:"current-password"},null,8,["modelValue","icon"])]),_:1}),t(F),t(P,null,{default:l(()=>[t(E,{type:"submit",color:"info",label:"Login"})]),_:1})]),_:2},1032,["class","rounded","onSubmit"])]),_:1}))}},N=f(z,[["__file","/home/runner/work/watch-store-admin/watch-store-admin/src/views/Login.vue"]]);export{N as default};
